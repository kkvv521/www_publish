(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-component-strategy-add"],{"031d":function(t,e,i){"use strict";i.r(e);var n=i("17e5"),a=i("fd81");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("aa43");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"55d78a6e",null,!1,n["a"],r);e["default"]=s.exports},"043d":function(t,e,i){var n=i("5c34");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("18929d9c",n,!0,{sourceMap:!1,shadowMode:!1})},"0603":function(t,e,i){var n=i("af0b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1bc1975d",n,!0,{sourceMap:!1,shadowMode:!1})},"061e":function(t,e,i){"use strict";var n=i("043d"),a=i.n(n);a.a},"0b93":function(t,e,i){"use strict";i.r(e);var n=i("1328"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"0c52":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-card uni-border",class:{"uni-card--full":!0===t.isFull||"true"===t.isFull,"uni-card--shadow":!0===t.isShadow||"true"===t.isShadow}},["basic"===t.mode&&t.title?i("v-uni-view",{staticClass:"uni-card__header uni-border-bottom",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.thumbnail?i("v-uni-view",{staticClass:"uni-card__header-extra-img-view"},[i("v-uni-image",{staticClass:"uni-card__header-extra-img",attrs:{src:t.thumbnail}})],1):t._e(),i("v-uni-text",{staticClass:"uni-card__header-title-text"},[t._v(t._s(t.title))]),t.extra?i("v-uni-text",{staticClass:"uni-card__header-extra-text"},[t._v(t._s(t.extra))]):t._e()],1):t._e(),"title"===t.mode?i("v-uni-view",{staticClass:"uni-card__title uni-border-bottom",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-card__title-box"},[i("v-uni-view",{staticClass:"uni-card__title-header"},[i("v-uni-image",{staticClass:"uni-card__title-header-image",attrs:{src:t.thumbnail,mode:"scaleToFill"}})],1),i("v-uni-view",{staticClass:"uni-card__title-content"},[i("v-uni-text",{staticClass:"uni-card__title-content-title uni-ellipsis"},[t._v(t._s(t.title))]),i("v-uni-text",{staticClass:"uni-card__title-content-extra uni-ellipsis"},[t._v(t._s(t.subTitle))])],1)],1),t.extra?i("v-uni-view",[i("v-uni-text",{staticClass:"uni-card__header-extra-text"},[t._v(t._s(t.extra))])],1):t._e()],1):t._e(),"style"===t.mode?i("v-uni-view",{staticClass:"uni-card__thumbnailimage",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-card__thumbnailimage-box"},[i("v-uni-image",{staticClass:"uni-card__thumbnailimage-image",attrs:{src:t.thumbnail,mode:"aspectFill"}})],1),t.title?i("v-uni-view",{staticClass:"uni-card__thumbnailimage-title"},[i("v-uni-text",{staticClass:"uni-card__thumbnailimage-title-text"},[t._v(t._s(t.title))])],1):t._e()],1):t._e(),i("v-uni-view",{staticClass:"uni-card__content uni-card__content--pd",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},["style"===t.mode&&t.extra?i("v-uni-view",{},[i("v-uni-text",{staticClass:"uni-card__content-extra"},[t._v(t._s(t.extra))])],1):t._e(),t._t("default")],2),t.note?i("v-uni-view",{staticClass:"uni-card__footer uni-border-top"},[t._t("footer",[i("v-uni-text",{staticClass:"uni-card__footer-text"},[t._v(t._s(t.note))])])],2):t._e()],1)},o=[]},"0fcf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniCard",props:{title:{type:String,default:""},subTitle:{type:String,default:""},extra:{type:String,default:""},note:{type:String,default:""},thumbnail:{type:String,default:""},mode:{type:String,default:"basic"},isFull:{type:Boolean,default:!1},isShadow:{type:[Boolean,String],default:!1}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},1328:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"param-input",data:function(){return{typeList:[{name:"数字型(number)",type:"number"},{name:"布尔型(boolean)",type:"boolean"},{name:"字符串(string)",type:"string"}],typeIndex:0,varname:"",valueDes:"",valueDefault:""}},methods:{typeChange:function(t){this.typeIndex=t.detail.value},add:function(){this.$emit("onAddParams",{name:this.varname,des:this.valueDes,default:this.valueDefault,type:this.typeList[this.typeIndex].type})},setValue:function(t,e,i,n){this.varname=t,this.valueDes=e,this.valueDefault=n,this.typeIndex=this.getTypeIndex(i)},getTypeIndex:function(t){for(var e=-1,i=0;i<this.typeList.length;i++)if(this.typeList[i].type==t){e=i;break}return e}},onLoad:function(){console.log(this.dobj)}};e.default=n},"175b":function(t,e,i){"use strict";i.r(e);var n=i("0c52"),a=i("cba4");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("fa9d");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"2d0b4842",null,!1,n["a"],r);e["default"]=s.exports},"17e5":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"_tab-box",style:{fontSize:t.defaultConfig.fontSize+"rpx",color:t.defaultConfig.color}},[i("v-uni-scroll-view",{staticClass:"scroll-view-h",attrs:{id:"_scroll","scroll-x":!0,"scroll-with-animation":!0,"scroll-left":t.slider.scrollLeft}},[i("v-uni-view",{staticClass:"_scroll-content"},[i("v-uni-view",{staticClass:"_tab-item-box",class:[t.defaultConfig.itemWidth?"_clamp":"_flex"]},[t._l(t.tabList,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"_item",class:{_active:t.tagIndex===n},style:{color:t.tagIndex==n?t.defaultConfig.activeColor:t.defaultConfig.color,width:t.defaultConfig.itemWidth?t.defaultConfig.itemWidth+"rpx":""},attrs:{id:"_tab_"+n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabClick(n)}}},[t._v(t._s(e[t.defaultConfig.key]||e))])]}))],2),i("v-uni-view",{staticClass:"_underline",style:{transform:"translateX("+t.slider.left+"px)",width:t.slider.width+"px",height:t.defaultConfig.underLineHeight+"rpx",backgroundColor:t.defaultConfig.underLineColor}})],1)],1)],1)},o=[]},1860:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniTable:i("9d7f").default,uniTr:i("5fe7").default,uniTh:i("c9dd").default,uniTd:i("f81f").default,uniPagination:i("1b53").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.show_progress&&t.logData?i("v-uni-progress",{attrs:{percent:t.logData.progress,"show-info":!0,"stroke-width":"5"}}):t._e(),t.logData?i("v-uni-button",{attrs:{size:"mini",type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearLog.apply(void 0,arguments)}}},[t._v("清除")]):t._e(),t.logData?i("uni-table",{attrs:{stripe:!0,emptyText:"暂无更多数据"}},[i("uni-tr",[i("uni-th",{attrs:{width:"300",align:"left"}},[t._v("时间")]),i("uni-th",{attrs:{align:"left"}},[t._v("日志")])],1),t._l(t.logData.list,(function(e,n){return i("uni-tr",{key:e+n},[i("uni-td",[t._v(t._s(e.create_at))]),i("uni-td",{style:t.log_type[e.type]},[t._v(t._s(e.log))])],1)}))],2):t._e(),t.logData?i("uni-pagination",{staticStyle:{"margin-top":"10px"},attrs:{title:"标题文字",pageSize:"10",total:t.logData.total,current:t.logData.page_index},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.logPageChange.apply(void 0,arguments)}}}):t._e(),i("div",{attrs:{id:"chart_container"}})],1)},o=[]},"1b53":function(t,e,i){"use strict";i.r(e);var n=i("f7b9"),a=i("fc6d");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("e18e");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"a47ff92e",null,!1,n["a"],r);e["default"]=s.exports},"1d74":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"title-input",data:function(){return{txt:""}},props:{title:{type:String,default:""},placeholder:{type:String,default:""}},methods:{getValue:function(){return this.txt}}};e.default=n},"20cd":function(t,e,i){"use strict";i.r(e);var n=i("1860"),a=i("b782");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"0dda3ae8",null,!1,n["a"],r);e["default"]=s.exports},2336:function(t,e,i){"use strict";var n=i("41ff"),a=i.n(n);a.a},"241d":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".input-container[data-v-3df52a58]{border-radius:3px;border-color:#e6e6e6;border-width:1px;border-style:solid;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:39px;margin-top:2px;margin-bottom:2px}.input-title[data-v-3df52a58]{padding:5px;min-width:50px;text-align:center}.input[data-v-3df52a58]{border-color:#e6e6e6;border-width:0 0 0 1px;border-style:solid;padding-left:10px;height:100%;margin-top:4px}.add-box[data-v-3df52a58]{border-color:#f33;border-width:2px;border-style:solid;-webkit-align-self:center;align-self:center}",""]),t.exports=e},2460:function(t,e,i){"use strict";i.r(e);var n=i("28e5"),a=i("e9fd");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("061e");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"6567e119",null,!1,n["a"],r);e["default"]=s.exports},"28e5":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={liuyunoTabs:i("031d").default,codeEditer:i("53e4").default,uniCard:i("175b").default,paramInput:i("375a").default,uniTable:i("9d7f").default,uniTr:i("5fe7").default,uniTh:i("c9dd").default,uniTd:i("f81f").default,uniIcons:i("27b3").default,uniRow:i("f33c4").default,uniCol:i("71df").default,uniDatetimePicker:i("2713").default,titleInput:i("4b4f").default,logView:i("20cd").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container",staticStyle:{"user-select":"text"}},[i("liuyuno-tabs",{staticStyle:{"font-size":"16px","font-weight":"bold"},attrs:{tabData:t.tabs,config:t.config,defaultIndex:t.defaultIndex},on:{tabClick:function(e){arguments[0]=e=t.$handleEvent(e),t.tabClick.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{style:t.getViewShow(t.current,0)},[i("v-uni-view",{staticClass:"inputGroup"},[i("v-uni-view",{staticClass:"inputType",staticStyle:{color:"rgb(100,100,100)"}},[t._v("Python")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"策略名称"},model:{value:t.scriptName,callback:function(e){t.scriptName=e},expression:"scriptName"}})],1),i("code-editer",{ref:"codeEdit"}),i("uni-card",{attrs:{title:"策略参数",mode:"basic","is-shadow":!0,extra:""}},[i("param-input",{ref:"paramInput",on:{onAddParams:function(e){arguments[0]=e=t.$handleEvent(e),t.addParams.apply(void 0,arguments)}}}),i("uni-table",{attrs:{stripe:!0,emptyText:""}},[i("uni-tr",[i("uni-th",{attrs:{align:"left"}},[t._v("变量")]),i("uni-th",{attrs:{align:"left"}},[t._v("描述")]),i("uni-th",{attrs:{align:"left"}},[t._v("类型")]),i("uni-th",{attrs:{align:"left"}},[t._v("默认值")]),i("uni-th",{attrs:{align:"left"}},[t._v("操作")])],1),t._l(t.params,(function(e,n){return i("uni-tr",{key:e.name+n},[i("uni-td",[t._v(t._s(e.name))]),i("uni-td",[t._v(t._s(e.des))]),i("uni-td",[t._v(t._s(e.type))]),i("uni-td",[t._v(t._s(e.default))]),i("uni-td",[i("uni-icons",{attrs:{type:"compose",size:"27",color:"#FF3333"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.editParams(e.name)}}}),i("uni-icons",{staticClass:"add-box",attrs:{type:"closeempty",size:"17",color:"#FF3333"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteParams(e.name)}}})],1)],1)}))],2)],1),i("v-uni-view",{staticClass:"uni-flex uni-flex-1 btnGroup uni-textarea"},[i("v-uni-view",{staticStyle:{"margin-right":"20px"}},[i("v-uni-button",{attrs:{"form-type":"submit",type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[t._v("添加策略")])],1),i("v-uni-view",[i("v-uni-button",{attrs:{type:"default",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")])],1)],1)],1),i("v-uni-view",{style:t.getViewShow(t.current,1)},[i("v-uni-textarea",{staticStyle:{"min-height":"700px",width:"100%",color:"rgb(80,80,80)"},attrs:{maxlength:"-1",placeholder:"策略描述..."},model:{value:t.des_text,callback:function(e){t.des_text=e},expression:"des_text"}})],1),i("v-uni-view",{style:t.getViewShow(t.current,2)},[i("uni-row",{attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}},[t._v("时间")]),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("uni-datetime-picker",{model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("uni-datetime-picker",{model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("title-input",{ref:"initCash",attrs:{placeholder:"1000000",title:"初始资金"}})],1)],1),i("uni-row",{staticClass:"row-line",attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}},[t._v("平台")]),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("v-uni-picker",{staticClass:"input-border",attrs:{value:t.exchangeIndex,range:t.exchangeList,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.exchangeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.exchangeList[t.exchangeIndex]?t.exchangeList[t.exchangeIndex].name:""))])],1)],1),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("title-input",{ref:"symbol",attrs:{placeholder:"例:USDT",title:"币种"}})],1),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("title-input",{ref:"symbolInitValue",attrs:{title:"初始值"}})],1),i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:4,xl:4}},[i("v-uni-view",{staticStyle:{"margin-top":"-2px","margin-left":"10px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addSymbol.apply(void 0,arguments)}}},[i("uni-icons",{staticClass:"add-box",attrs:{type:"plusempty",size:"27",color:"#FF3333"}})],1)],1)],1),i("uni-row",{staticClass:"row-line",attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}}),i("uni-col",{staticClass:"symbol-content",attrs:{xs:24,sm:24,md:24,lg:23,xl:23}},t._l(t.symbols,(function(e,n){return i("v-uni-view",{key:e,staticClass:"uni-flex uni-row symbol-item"},[i("v-uni-view",[t._v(t._s(e))]),i("uni-icons",{staticStyle:{"margin-left":"4px"},attrs:{type:"closeempty",color:"#E80080"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteSymbol(e)}}})],1)})),1)],1),i("uni-row",{staticClass:"row-line",attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}},[t._v("参数")]),i("uni-col",{attrs:{xs:24,sm:24,md:24,lg:23,xl:23}},[i("uni-card",{staticStyle:{"margin-left":"0px","margin-top":"0px"},attrs:{title:"策略参数",mode:"basic",extra:"",isShadow:!0}},t._l(t.params,(function(e,n){return i("uni-row",{key:e.value+e.name,staticClass:"param-item",attrs:{gutter:5}},[i("uni-col",{staticClass:"param-title",attrs:{xs:24,sm:24,md:24,lg:4,xl:4}},[i("v-uni-view",{staticClass:"param-child-title"},[t._v(t._s(e.des)+"("+t._s(e.type)+")")])],1),i("uni-col",{attrs:{xs:24,sm:24,md:24,lg:20,xl:20}},[i("v-uni-input",{staticClass:"uni-input param-input",attrs:{value:e.value?e.value:e.default},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),function(i){return t.paramInputChange(e.name,i)}.apply(void 0,arguments)}}})],1)],1)})),1)],1)],1),i("uni-row",{attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}},[t._v("备注")]),i("uni-col",{attrs:{xs:24,sm:12,md:6,lg:5,xl:5}},[i("v-uni-input",{staticClass:"tag-input",attrs:{placeholder:"请输入备注"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],1)],1),i("uni-row",{staticClass:"row-line",staticStyle:{"margin-top":"20px"},attrs:{gutter:10}},[i("uni-col",{staticClass:"back-test-title",attrs:{xs:24,sm:24,md:24,lg:1,xl:1}}),i("uni-col",{attrs:{xs:24,sm:24,md:24,lg:23,xl:23}},[i("v-uni-button",{staticStyle:{"margin-right":"10px"},attrs:{disabled:t.is_running,size:"mini",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startBacktestAction.apply(void 0,arguments)}}},[t._v("开始回测")]),t.is_running?i("v-uni-button",{attrs:{size:"mini",type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stopBacktestAction.apply(void 0,arguments)}}},[t._v("停止")]):t._e()],1)],1),i("log-view",{ref:"portfolioCookie",attrs:{show_progress:!0},on:{stateChange:function(e){arguments[0]=e=t.$handleEvent(e),t.logStateChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticStyle:{"word-wrap":"normal","white-space":"pre-wrap"},style:t.getViewShow(t.current,3)},[t._v("tips:on_bar 发生账户信息发生变化 调用一次 Save() 保存账户信息到数据库内 只有save后 才能做账户分析\nQA 扩展 QUANTAXIS_EXTEND\n---------------------------------------------------\n#当前账户\nAccount \n    #持仓\n    get_position(code):Position\n\t#当前账户可用资金\n\tcash_available_n\n\nPosition 持仓\n    volume_long_today [float] 今仓 多单持仓\n    volume_long_his   [float] 昨仓 多单持仓\n    volume_short_today [float] 今仓 空单持仓\n    volume_short_his  [float] 昨仓 空单持仓\n\n    volume_long_frozen_his [float] 多单昨日冻结\n    volume_long_frozen_today [float] 多单今日冻结\n    volume_short_frozen_his [float] 空单昨日冻结\n    volume_short_frozen_today [float] 空单今日冻结\n\n    volume_long [float] 多单持仓\n    volume_short [float] 空单持仓 \n\n    margin_long  [float] 多单保证金\n    margin_short [float] 空单保证金\n\n    open_price_long [float] 多单开仓价\n    open_price_short [float] 空单开仓价\n    position_price_long [float] 逐日盯市的前一交易日的结算价\n    position_price_short [float] 逐日盯市的前一交易日的结算价\n\n    open_cost_long [float] 多单开仓成本(指的是保证金冻结)\n    open_cost_short [float] 空单开仓成本\n    position_cost_long [float] 多单持仓成本(指的是基于逐日盯市制度下的成本价)\n    position_cost_short [float] 空单持仓成本\n\n\n    close_available [dict] 可平仓数量\n\n    hold_detail [dict] 持仓量\n---------------------------------------------------\n#策略启动时间-回测中 StartTime是回测数据起始时间 ，实盘模拟盘是系统时间\nStartTime:String\n\n#天数偏移\nDelta_day(time_str,value,format=\"%Y-%m-%d %H:%M:%S\"):String\n---------------------------------------------------\t\n#log\nLog(value)\n---------------------------------------------------\t\t\n#划线\nPlot(name,data) # data:Series、DataFrame\n---------------------------------------------------\t\t\t\t\t\t\n#订阅数据\n#回测中frequence参数无效\nSubCode(code_list,frequence=FREQUENCE.ONE_MIN)\n\nclass FREQUENCE:\n    DAY = 'day'  # 日bar\n\tDAY7 = '7day'  # 周bar\n\tONE_MIN = '1min'  # 1min bar\n\tFIVE_MIN = '5min'  # 5min bar\n\tFIFTEEN_MIN = '15min'  # 15min bar\n\tTHIRTY_MIN = '30min'  # 30min bar\n\tHOUR = '60min'  # 60min bar\n\tHOUR4='240min'\n---------------------------------------------------\n#保存账户\nSave()\n---------------------------------------------------\n#设置账户杠杆\nSetLeverage(1)\n---------------------------------------------------\n#event数据结构\non_bar \n  event:{\n\t#k线数据\n\tmarket_data,\n\tsend_order(\n\t\taccount_cookie,\n\t\tamount,\n\t\tamount_model,\n\t\ttime,\n\t\tcode,\n\t\tprice,\n\t\torder_model,\n\t\ttowards,\n\t\tmarket_type,\n\t\tfrequence,\n\t\tbroker_name,\n\t\tmoney=None\n\t)，\n\t#行情\n\tquery_data(\n\t\tbroker_name,\n\t\tfrequence,\n\t\tmarket_type,\n\t\tcode,\n\t\tstart,\n\t\tend=None\n\t),\n\t#订单\n\tquery_order(\n\t\taccount_cookie, \n\t\trealorder_id\n\t),\n\t#初始化账户资产\n\tquery_assets(account_cookie),\n}")])],1)],1)},o=[]},2909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=l(i("6005")),a=l(i("db90")),o=l(i("06c5")),r=l(i("3427"));function l(t){return t&&t.__esModule?t:{default:t}}function s(t){return(0,n.default)(t)||(0,a.default)(t)||(0,o.default)(t)||(0,r.default)()}},3427:function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"375a":function(t,e,i){"use strict";i.r(e);var n=i("8aed"),a=i("0b93");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("2336");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"3df52a58",null,!1,n["a"],r);e["default"]=s.exports},"41ff":function(t,e,i){var n=i("241d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2c26414c",n,!0,{sourceMap:!1,shadowMode:!1})},"4b4f":function(t,e,i){"use strict";i.r(e);var n=i("8ef9"),a=i("643a");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("c440");var r,l=i("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"1c7e98c1",null,!1,n["a"],r);e["default"]=s.exports},"5c34":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".btnGroup[data-v-6567e119]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:10px}.inputGroup[data-v-6567e119]{border-width:1px;border-style:solid;border-color:#dcdcdc;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;font-size:17px;margin-bottom:10px}.inputType[data-v-6567e119]{padding:2px 8px 2px 8px;font-size:20px}.input[data-v-6567e119]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:17px;padding:2px;border-style:solid;border-color:#dcdcdc;border-width:0 0 0 1px;padding:6px}.tag-input[data-v-6567e119]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:15px;border-style:solid;border-color:#dcdcdc;border-width:1px;padding:6px}.input-border[data-v-6567e119]{border-style:solid;border-color:#dcdcdc;border-width:1px;height:100%;height:39px;border-radius:4px}.add-box[data-v-6567e119]{border-color:#f33;border-width:2px;border-style:solid;margin-left:10px}.back-test-title[data-v-6567e119]{padding-top:6px;font-weight:700;font-size:16px}.row-line[data-v-6567e119]{margin-top:10px}.param-title[data-v-6567e119]{margin-top:5px;text-align:right;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.param-child-title[data-v-6567e119]{color:#1380b1;border-color:#1380b1;border-width:1px;border-style:solid;width:-webkit-fit-content;width:fit-content;padding:0 3px 0 3px;border-radius:5px}.param-input[data-v-6567e119]{\n\t/* margin-left: 10px; */border-color:#e6e6e6;border-width:1px;border-style:solid;max-width:400px;text-align:left}.param-item[data-v-6567e119]{margin-bottom:10px}.frequence-type[data-v-6567e119]{-webkit-box-flex:0.4;-webkit-flex:0.4;flex:0.4;border-width:0;border-left-width:1px;text-align:center}.symbol-content[data-v-6567e119]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.symbol-item[data-v-6567e119]{color:#e80080;border-color:#e80080;border-width:1px;border-style:solid;padding:4px 6px 4px 6px;width:-webkit-fit-content;width:fit-content;border-radius:5px;margin-right:10px}",""]),t.exports=e},6005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=a(i("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t))return(0,n.default)(t)}},"63b8":function(t,e,i){"use strict";var n=i("4ea4");i("c975"),i("a15b"),i("a434"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),o=n(i("ade3")),r={data:function(){var t;return t={tabs:["策略编辑","描述","模拟回测","帮助文档"],current:0,defaultIndex:0,config:{key:"name",fontSize:26,color:"#313131",activeColor:"#2c5df7",itemWidth:200,underLinePadding:10,underLineWidth:0,underLineHeight:4,underLineColor:"#2c5df7"},scriptName:"",params:[],startTime:this.$moment(new Date).format("YYYY-MM-DD HH:mm:ss"),endTime:this.$moment(new Date).format("YYYY-MM-DD HH:mm:ss"),frequenceList:[{name:"天",type:"day"},{name:"分",type:"min"}]},(0,o.default)(t,"frequenceList",[{name:"天",type:"day"},{name:"分",type:"min"}]),(0,o.default)(t,"frequenceIndex",0),(0,o.default)(t,"frequenceValue","1"),(0,o.default)(t,"exchangeList",[{name:"币安",id:1}]),(0,o.default)(t,"exchangeIndex",0),(0,o.default)(t,"symbolList",[]),(0,o.default)(t,"symbols",[]),(0,o.default)(t,"symbolIndex",0),(0,o.default)(t,"tempParams",[]),(0,o.default)(t,"symbolValue",""),(0,o.default)(t,"symbolInit",{}),(0,o.default)(t,"log_current_index",1),(0,o.default)(t,"tickLog",null),(0,o.default)(t,"is_running",!1),(0,o.default)(t,"portfolioCookie",null),(0,o.default)(t,"tag",""),(0,o.default)(t,"des_text",""),t},methods:{getViewShow:function(t,e){return t==e?"padding: 10px 10px 0px 10px;display:":"padding: 10px 10px 0px 10px;display:none;"},tabClick:function(t){0==this.tempParams.length&&(this.tempParams=JSON.parse(JSON.stringify(this.params))),this.current=t},frequenceChange:function(t){this.frequenceIndex=t.detail.value},exchangeChange:function(t){this.exchangeIndex=t.detail.value},add:function(){var t=this,e=this.$refs.codeEdit.code;if(0!=this.scriptName.length&&0!=e.length){var i={name:this.scriptName,script:e,params:JSON.stringify(this.params),user_cookie:uni.getStorageSync("user_cookie"),des_text:this.des_text},n=this.$route.query.id;null!=n&&(i["id"]=n),this.$request.post("/strategy/add",i).then((function(e){if("WRONG"!=e.result){uni.showToast({title:"保存成功",icon:"none",duration:1500});var i=t.$route.query.id;if(null==i||""==i){var n="/pages/component/strategy/add?id="+e.result;uni.redirectTo({url:n})}}}))}else uni.showModal({title:"通知",content:"策略名和策略不能为空",showCancel:!1})},cancel:function(){uni.reLaunch({url:"/pages/component/strategy/strategy"})},addParams:function(t){var e=this,i=this;if(""!=t.name){for(var n=function(n){if(e.params[n].name==t.name||e.params[n].des==t.des)return uni.showModal({title:"通知",content:"变量名或者描述重复, 确定要覆盖旧的变量吗?",success:function(e){e.cancel||(i.params[n]=t,i.params=(0,a.default)(i.params))}}),{v:void 0}},o=0;o<this.params.length;o++){var r=n(o);if("object"===typeof r)return r.v}this.params.push(t),this.tempParams.push(t)}},editParams:function(t){var e=this.getParam(t);if(-1!=e){var i=this.params[e];this.$refs.paramInput.setValue(i.name,i.des,i.type,i.default)}},deleteParams:function(t){var e=this;uni.showModal({title:"通知",content:"删除参数后有可能会导致策略不能正常工作，确定要这样做吗?",success:function(i){if(!i.cancel)for(var n=0;n<e.params.length;n++)if(e.params[n].name==t){e.params.splice(n,1),e.tempParams.splice(n,1);break}}})},getParam:function(t){for(var e=-1,i=0;i<this.params.length;i++)if(this.params[i].name==t){e=i;break}return e},startBacktestAction:function(){var t=this.$refs.codeEdit.code;if(0!=t.length){this.is_running=!0;var e=this.$refs.initCash.getValue(),i="day"==this.frequenceList[this.frequenceIndex].type?"day":this.frequenceValue+this.frequenceList[this.frequenceIndex].type,n={user_cookie:uni.getStorageSync("user_cookie"),start_time:this.startTime,end_time:this.endTime,params:JSON.stringify(this.tempParams),script:t,symbolInit:JSON.stringify(this.symbolInit),frequence:i,tag:this.tag,init_cash:e},a=this.$route.query.id;null!=a&&""!=a&&(n["id"]=a);var o=this;this.$request.post("/strategy/backtest",n).then((function(t){"WRONG"!=t&&(o.portfolioCookie=t,o.$refs.portfolioCookie.setPortfolioCookie(t))}))}else uni.showModal({title:"通知",content:"策略名不能为空",showCancel:!1})},stopBacktestAction:function(){var t={user_cookie:uni.getStorageSync("user_cookie"),portfolio_cookie:this.portfolioCookie};this.$request.post("/strategy/stopbacktest",t)},paramInputChange:function(t,e){for(var i=0;i<this.tempParams.length;i++)this.tempParams[i].name==t&&(this.tempParams[i].value=e.detail.value)},addSymbol:function(){var t=this.$refs.symbol.getValue(),e=this.$refs.symbolInitValue.getValue();isNaN(e)&&(e=0),t=t.toUpperCase(),this.symbols.push(t),this.symbolInit[t]=e},deleteSymbol:function(t){var e=t.split("_"),i=e.join("").toUpperCase(),n=this.symbols.indexOf(i);n<0||(this.symbols.splice(n,1),delete this.symbolInit[e[0]])},logStateChange:function(t){this.is_running="1"==t},onkeydown:function(t){if(("S"==t.key||"s"==t.key)&&t.ctrlKey)return this.add(),!1}},onLoad:function(){var t=this;document.onkeydown=this.onkeydown;var e=this.$route.query.id;if(null!=e&&""!=e){var i=uni.getStorageSync("user_cookie");this.$request.get("/strategy/info?user_cookie="+i+"&id="+e).then((function(e){"WRONG"!=e&&(t.scriptName=e.result.name,t.$refs.codeEdit.setValue(e.result.script),t.params=JSON.parse(e.result.params),t.portfolioCookie="回测_"+t.scriptName,t.$refs.portfolioCookie.setPortfolioCookie(t.portfolioCookie),t.des_text=e.result.des_text||"")}))}},mounted:function(){}};e.default=r},"643a":function(t,e,i){"use strict";i.r(e);var n=i("1d74"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},6618:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */._tab-box[data-v-55d78a6e]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?26?%;position:relative;height:%?90?%;line-height:%?90?%;z-index:10}._tab-box .scroll-view-h[data-v-55d78a6e]{white-space:nowrap;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box}._tab-box .scroll-view-h ._scroll-content[data-v-55d78a6e]{width:100%;height:100%;position:relative}._tab-box .scroll-view-h ._scroll-content ._tab-item-box[data-v-55d78a6e]{height:100%}._tab-box .scroll-view-h ._scroll-content ._tab-item-box._flex[data-v-55d78a6e]{display:-webkit-box;display:-webkit-flex;display:flex}._tab-box .scroll-view-h ._scroll-content ._tab-item-box._flex ._item[data-v-55d78a6e]{-webkit-box-flex:1;-webkit-flex:1;flex:1}._tab-box .scroll-view-h ._scroll-content ._tab-item-box._clamp ._item[data-v-55d78a6e]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._tab-box .scroll-view-h ._scroll-content ._tab-item-box ._item[data-v-55d78a6e]{height:100%;display:inline-block;text-align:center;padding:0 %?30?%;position:relative;text-align:center;color:#333}._tab-box .scroll-view-h ._scroll-content ._tab-item-box ._item._active[data-v-55d78a6e]{color:#e54d42}._tab-box .scroll-view-h ._scroll-content ._underline[data-v-55d78a6e]{height:%?4?%;background-color:#e54d42;border-radius:%?6?%;-webkit-transition:.5s;transition:.5s;position:absolute;bottom:0}',""]),t.exports=e},"7db04":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("c76a");i("554a"),i("1a8f"),i("65d0");var a={name:"log-view",props:{show_progress:{type:Boolean,required:!1,default:!1}},data:function(){return{log_current_index:1,tickLog:null,logData:null,log_type:{log:"user-select:text",error:"color:#ff0000;user-select:text;"},portfolio_cookie:"",try_time:0,chart_dict:{},lineOption:{notMerge:!0,tooltip:{trigger:"axis",positionStatus:!0,formatterStatus:!0,formatterUnit:"",formatFloat2:!0,formatThousands:!0},legend:{data:["assets","benchmark"]},xAxis:{type:"category",data:[],silent:!1},yAxis:[{type:"value",min:function(t){return t.min}}],dataZoom:[{type:"inside"},{type:"slider"}],series:[]}}},methods:{logPageChange:function(t){this.log_current_index=t.current,this.backtestLogAction()},backtestLogAction:function(){var t=this,e={user_cookie:uni.getStorageSync("user_cookie"),portfolio_cookie:this.portfolio_cookie,page_index:this.log_current_index};this.$request.post("/strategy/log",e).then((function(e){"WRONG"!=e&&(t.logData=e.result,t.$emit("stateChange",e.result.state),"0"==e.result.state&&t.try_time++,t.try_time<10||t.stopTickLog())}))},backtestPlotAction:function(){var t=this,e={user_cookie:uni.getStorageSync("user_cookie"),portfolio_cookie:this.portfolio_cookie,action:"list"},i=this;this.$request.post("/strategy/plot",e).then((function(e){if("WRONG"!=e)for(var a=0;a<e.result.length;a++){var o=e.result[a],r=encodeURI(o.name);if(!(r in t.chart_dict)){var l=document.createElement("div");l.innerText=o.name,l.style.marginLeft="30px";var s=document.createElement("div");s.id="myChart_"+r,s.style.height="400px",s.style.width=window.innerWidth-400+"px",document.getElementById("chart_container").appendChild(l),document.getElementById("chart_container").appendChild(s),t.chart_dict[r]=n.init(document.getElementById("myChart_"+r))}var c=JSON.parse(JSON.stringify(i.lineOption));if(c.yAxis=[{type:"value",min:function(t){return t.min}}],c.legend.data=o.columns,c.xAxis.data=o.index,o.value.length>0&&o.value[a]instanceof Array){c.series=[];for(var d=0;d<o.value.length;d++)c.series.push({name:o.columns[d],type:"line",emphasis:{focus:"series"},data:o.value[d]})}else c.series=[{name:"value",type:"line",emphasis:{focus:"series"},data:o.value}];t.chart_dict[r].setOption(c)}}))},startTickLog:function(){var t=this;null==this.tickLog&&(this.tickLog=setInterval((function(e){t.backtestLogAction(),t.backtestPlotAction()}),1e3))},stopTickLog:function(){null!=this.tickLog&&(clearInterval(this.tickLog),this.tickLog=null)},setPortfolioCookie:function(t){this.portfolio_cookie=t,this.try_time=0,this.backtestLogAction(),this.startTickLog()},clearLog:function(){var t=this,e={user_cookie:uni.getStorageSync("user_cookie"),portfolio_cookie:this.portfolio_cookie};this.$request.post("/strategy/clearlog",e).then((function(e){"WRONG"!=e&&(t.log_current_index=1,t.backtestLogAction())})),e["action"]="clear",this.$request.post("/strategy/plot",e).then((function(e){"WRONG"!=e&&(t.chart_dict=[],document.getElementById("chart_container").innerHTML="")}))}},mounted:function(){},onUnload:function(){this.stopTickLog()}};e.default=a},"84fc":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".input-container[data-v-1c7e98c1]{border-radius:3px;border-color:#e6e6e6;border-width:1px;border-style:solid;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:39px;margin-bottom:2px}.input-title[data-v-1c7e98c1]{padding:5px;min-width:50px;text-align:center}.input[data-v-1c7e98c1]{border-color:#e6e6e6;border-width:0 0 0 1px;border-style:solid;padding-left:10px;height:100%;margin-top:4px}",""]),t.exports=e},"8aed":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniRow:i("f33c4").default,uniCol:i("71df").default,uniIcons:i("27b3").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uni-row",{attrs:{gutter:10}},[i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:5,xl:5}},[i("v-uni-view",{staticClass:"input-container"},[i("v-uni-view",{staticClass:"input-title"},[t._v("变量")]),i("v-uni-input",{staticClass:"input",model:{value:t.varname,callback:function(e){t.varname=e},expression:"varname"}})],1)],1),i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:5,xl:5}},[i("v-uni-view",{staticClass:"input-container"},[i("v-uni-view",{staticClass:"input-title"},[t._v("描述")]),i("v-uni-input",{staticClass:"input",model:{value:t.valueDes,callback:function(e){t.valueDes=e},expression:"valueDes"}})],1)],1),i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:5,xl:5}},[i("v-uni-view",{staticClass:"input-container"},[i("v-uni-picker",{attrs:{value:t.typeIndex,range:t.typeList,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.typeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.typeList[t.typeIndex].name))])],1)],1)],1),i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:5,xl:5}},[i("v-uni-view",{staticClass:"input-container"},[i("v-uni-view",{staticClass:"input-title"},[t._v("默认值")]),i("v-uni-input",{staticClass:"input",model:{value:t.valueDefault,callback:function(e){t.valueDefault=e},expression:"valueDefault"}})],1)],1),i("uni-col",{attrs:{xs:24,sm:24,md:8,lg:4,xl:4}},[i("v-uni-view",{staticStyle:{"margin-top":"-2px","margin-left":"10px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[i("uni-icons",{staticClass:"add-box",attrs:{type:"plusempty",size:"27",color:"#FF3333"}})],1)],1)],1)},o=[]},"8ef9":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"input-container"},[i("v-uni-view",{staticClass:"input-title"},[t._v(t._s(t.title))]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:t.placeholder},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}})],1)},o=[]},a9fe:function(t,e,i){var n=i("6618");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6839ddff",n,!0,{sourceMap:!1,shadowMode:!1})},aa43:function(t,e,i){"use strict";var n=i("a9fe"),a=i.n(n);a.a},ace9:function(t,e,i){var n=i("84fc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5fff9292",n,!0,{sourceMap:!1,shadowMode:!1})},af0b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".uni-pagination[data-v-a47ff92e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nposition:relative;overflow:hidden;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-pagination__total[data-v-a47ff92e]{font-size:14px;color:#999;margin-right:15px}.uni-pagination__btn[data-v-a47ff92e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;cursor:pointer;\npadding:0 8px;line-height:30px;font-size:14px;position:relative;background-color:#f4f4f5;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center}.uni-pagination__child-btn[data-v-a47ff92e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nfont-size:14px;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center}.uni-pagination__num[data-v-a47ff92e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:30px;line-height:30px;font-size:14px;color:#333;margin:0 5px}.uni-pagination__num-tag[data-v-a47ff92e]{\ncursor:pointer;min-width:30px;\nmargin:0 5px;height:30px;text-align:center;line-height:30px;color:#666}.uni-pagination__num-current[data-v-a47ff92e]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-pagination__num-current-text[data-v-a47ff92e]{font-size:15px}.uni-pagination--enabled[data-v-a47ff92e]{color:#333;opacity:1}.uni-pagination--disabled[data-v-a47ff92e]{opacity:.5;\ncursor:default\n}.uni-pagination--hover[data-v-a47ff92e]{color:rgba(0,0,0,.6);background-color:#f1f1f1}.tag--active[data-v-a47ff92e]:hover{color:#007aff}.page--active[data-v-a47ff92e]{color:#fff;background-color:#007aff}.page--active[data-v-a47ff92e]:hover{color:#fff}\n.is-pc-hide[data-v-a47ff92e]{display:block}.is-phone-hide[data-v-a47ff92e]{display:none}@media screen and (min-width:450px){.is-pc-hide[data-v-a47ff92e]{display:none}.is-phone-hide[data-v-a47ff92e]{display:block}.uni-pagination__num-flex-none[data-v-a47ff92e]{-webkit-box-flex:0;-webkit-flex:none;flex:none}}\n\n",""]),t.exports=e},b782:function(t,e,i){"use strict";i.r(e);var n=i("7db04"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},bc18:function(t,e,i){"use strict";i("4160"),i("a9e3"),i("ac1f"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"liuyuno-tabs",props:{tabData:{type:Array,default:function(){return[]}},activeIndex:{type:Number,default:0},config:{type:Object,default:function(){return{}}}},data:function(){return{tabList:[],tagIndex:0,slider:{left:0,width:0,scrollLeft:0},scorll:{},defaultConfig:{key:"name",fontSize:26,color:"#313131",activeColor:"#e54d42",itemWidth:20,underLinePadding:10,underLineWidth:0,underLineHeight:4,underLineColor:"#e54d42"}}},watch:{tabData:function(t){var e=this;this.updateData(),setTimeout((function(){e.updateTabWidth()}),0)},config:function(t){this.updateConfig()}},mounted:function(){var t=this;this.updateConfig(),this.updateData(),this.tagIndex=this.activeIndex,this.$nextTick((function(){t.calcScrollPosition()}))},methods:{updateData:function(){var t=[];"string"==typeof this.tabData[0]?(this.tabData.forEach((function(e,i){t.push({name:e})})),this.defaultConfig.key="name"):t=JSON.parse(JSON.stringify(this.tabData)),this.tabList=t},updateConfig:function(){this.defaultConfig=Object.assign(this.defaultConfig,this.config)},calcScrollPosition:function(){var t=this,e=uni.createSelectorQuery().in(this);e.select("#_scroll").boundingClientRect((function(e){t.scorll=e,t.updateTabWidth()})).exec()},updateTabWidth:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.tabList;if(0==i.length)return!1;var n=uni.createSelectorQuery().in(this);n.select("#_tab_"+e).boundingClientRect((function(n){i[e]._slider={width:n.width,left:n.left,scrollLeft:n.left-(i[e-1]?i[e-1]._slider.width:0)},t.tagIndex==e&&t.tabToIndex(t.tagIndex),e++,i.length>e&&t.updateTabWidth(e)})).exec()},tabToIndex:function(t){var e=this.tabList[t]._slider,i=uni.upx2px(this.defaultConfig.underLineWidth);i||(i=this.defaultConfig.itemWidth?uni.upx2px(this.defaultConfig.itemWidth):this.tabList[t][this.defaultConfig.key].length*uni.upx2px(this.defaultConfig.fontSize),i+=2*uni.upx2px(this.defaultConfig.underLinePadding));var n=this.scorll.left||0;this.slider={left:e.left-n+(e.width-i)/2,width:i,scrollLeft:e.scrollLeft-n}},tabClick:function(t){this.tagIndex=t,this.tabToIndex(t),this.$emit("tabClick",t)}}};e.default=n},c440:function(t,e,i){"use strict";var n=i("ace9"),a=i.n(n);a.a},cba4:function(t,e,i){"use strict";i.r(e);var n=i("0fcf"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},d3cd:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.uni-card[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent;\nmargin:12px 15px;background-color:#fff;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;border-radius:5px;overflow:hidden;\ncursor:pointer\n}.uni-border[data-v-2d0b4842]{position:relative;\n\nz-index:1}\n.uni-border[data-v-2d0b4842]:after{content:"";position:absolute;bottom:0;left:0;top:0;right:0;border:1px solid #e5e5e5;border-radius:10px;-webkit-box-sizing:border-box;box-sizing:border-box;width:200%;height:200%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;transform-origin:left top;z-index:-1}\n.uni-border-bottom[data-v-2d0b4842]{position:relative;\n\nz-index:1}\n.uni-border-bottom[data-v-2d0b4842]:after{content:"";position:absolute;bottom:0;left:0;top:0;right:0;border-bottom:1px solid #e5e5e5;-webkit-box-sizing:border-box;box-sizing:border-box;width:200%;height:200%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;transform-origin:left top;z-index:-1}\n.uni-border-top[data-v-2d0b4842]{position:relative;\n\nz-index:1}\n.uni-border-top[data-v-2d0b4842]:after{content:"";position:absolute;bottom:0;left:0;top:0;right:0;border-top:1px solid #e5e5e5;-webkit-box-sizing:border-box;box-sizing:border-box;width:200%;height:200%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;transform-origin:left top;z-index:-1}\n.uni-card__thumbnailimage[data-v-2d0b4842]{position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:150px;overflow:hidden}.uni-card__thumbnailimage-box[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;overflow:hidden}.uni-card__thumbnailimage-image[data-v-2d0b4842]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.uni-card__thumbnailimage-title[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nposition:absolute;bottom:0;left:0;right:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:8px 12px;background-color:rgba(0,0,0,.4)}.uni-card__thumbnailimage-title-text[data-v-2d0b4842]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px;color:#fff}.uni-card__title[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:10px}.uni-card__title-box[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}.uni-card__title-header[data-v-2d0b4842]{width:40px;height:40px;overflow:hidden;border-radius:5px}.uni-card__title-header-image[data-v-2d0b4842]{width:40px;height:40px}.uni-card__title-content[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:10px;height:40px;overflow:hidden}.uni-card__title-content-title[data-v-2d0b4842]{font-size:14px;line-height:22px}.uni-card__title-content-extra[data-v-2d0b4842]{font-size:12px;line-height:27px;color:#999}.uni-card__header[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\nposition:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:12px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-card__header-title[data-v-2d0b4842]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-right:8px;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-card__header-title-text[data-v-2d0b4842]{font-size:16px;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333}.uni-card__header-extra-img[data-v-2d0b4842]{height:20px;width:20px;margin-right:8px}.uni-card__header-extra-text[data-v-2d0b4842]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:8px;font-size:12px;text-align:right;color:#999}.uni-card__content[data-v-2d0b4842]{color:#333}.uni-card__content--pd[data-v-2d0b4842]{padding:12px}.uni-card__content-extra[data-v-2d0b4842]{font-size:14px;padding-bottom:10px;color:#999}.uni-card__footer[data-v-2d0b4842]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:12px}.uni-card__footer-text[data-v-2d0b4842]{color:#999;font-size:12px}.uni-card--shadow[data-v-2d0b4842]{position:relative;\n-webkit-box-shadow:0 0 5px 1px rgba(0,0,0,.1);box-shadow:0 0 5px 1px rgba(0,0,0,.1)\n}.uni-card--full[data-v-2d0b4842]{margin:0;border-radius:0}\n.uni-card--full[data-v-2d0b4842]:after{border-radius:0}\n.uni-ellipsis[data-v-2d0b4842]{\noverflow:hidden;white-space:nowrap;text-overflow:ellipsis;\n}',""]),t.exports=e},db90:function(t,e,i){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},e18e:function(t,e,i){"use strict";var n=i("0603"),a=i.n(n);a.a},e9fd:function(t,e,i){"use strict";i.r(e);var n=i("63b8"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},eaa9:function(t,e,i){"use strict";i("4160"),i("a9e3"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniPagination",props:{value:{type:[Number,String],default:1},prevText:{type:String,default:"上一页"},nextText:{type:String,default:"下一页"},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7}},data:function(){return{currentIndex:1,paperData:[]}},computed:{maxPage:function(){var t=1,e=Number(this.total),i=Number(this.pageSize);return e&&i&&(t=Math.ceil(e/i)),t},paper:function(){for(var t=this.currentIndex,e=this.pagerCount,i=this.total,n=this.pageSize,a=[],o=[],r=Math.ceil(i/n),l=0;l<r;l++)a.push(l+1);o.push(1);var s=a[a.length-(e+1)/2];return a.forEach((function(i,n){(e+1)/2>=t?i<e+1&&i>1&&o.push(i):t+2<=s?i>t-(e+1)/2&&i<t+(e+1)/2&&o.push(i):(i>t-(e+1)/2||r-e<i)&&i<a[a.length-1]&&o.push(i)})),r>e?((e+1)/2>=t?o[o.length-1]="...":t+2<=s?(o[1]="...",o[o.length-1]="..."):o[1]="...",o.push(a[a.length-1])):(e+1)/2>=t||t+2<=s||(o.shift(),o.push(a[a.length-1])),o}},watch:{current:function(t){this.currentIndex=t},value:function(t){this.currentIndex=t<1?1:t}},created:function(){this.currentIndex=+this.value},methods:{selectPage:function(t,e){if(parseInt(t))this.currentIndex=t,this.change("current");else{var i=Math.ceil(this.total/this.pageSize);if(e<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(e>=6)return void(this.currentIndex+5>i?this.currentIndex=i:this.currentIndex+=5)}},clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change:function(t){this.$emit("input",this.currentIndex),this.$emit("change",{type:t,current:this.currentIndex})}}};e.default=n},ee70:function(t,e,i){var n=i("d3cd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("257b5175",n,!0,{sourceMap:!1,shadowMode:!1})},f7b9:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("27b3").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-pagination"},[i("v-uni-view",{staticClass:"uni-pagination__total is-phone-hide"},[t._v("共 "+t._s(t.total)+" 条")]),i("v-uni-view",{staticClass:"uni-pagination__btn",class:1===t.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled",attrs:{"hover-class":1===t.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickLeft.apply(void 0,arguments)}}},[!0===t.showIcon||"true"===t.showIcon?[i("uni-icons",{attrs:{color:"#666",size:"16",type:"arrowleft"}})]:[i("v-uni-text",{staticClass:"uni-pagination__child-btn"},[t._v(t._s(t.prevText))])]],2),i("v-uni-view",{staticClass:"uni-pagination__num uni-pagination__num-flex-none"},[i("v-uni-view",{staticClass:"uni-pagination__num-current"},[i("v-uni-text",{staticClass:"uni-pagination__num-current-text is-pc-hide",staticStyle:{color:"#409EFF"}},[t._v(t._s(t.currentIndex))]),i("v-uni-text",{staticClass:"uni-pagination__num-current-text is-pc-hide"},[t._v("/"+t._s(t.maxPage||0))]),t._l(t.paper,(function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-pagination__num-tag tag--active is-phone-hide",class:{"page--active":e===t.currentIndex},on:{click:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"top",void 0,i.key,void 0))return null;arguments[0]=i=t.$handleEvent(i),t.selectPage(e,n)}}},[i("v-uni-text",[t._v(t._s(e))])],1)}))],2)],1),i("v-uni-view",{staticClass:"uni-pagination__btn",class:t.currentIndex>=t.maxPage?"uni-pagination--disabled":"uni-pagination--enabled",attrs:{"hover-class":t.currentIndex===t.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickRight.apply(void 0,arguments)}}},[!0===t.showIcon||"true"===t.showIcon?[i("uni-icons",{attrs:{color:"#666",size:"16",type:"arrowright"}})]:[i("v-uni-text",{staticClass:"uni-pagination__child-btn"},[t._v(t._s(t.nextText))])]],2)],1)},o=[]},fa9d:function(t,e,i){"use strict";var n=i("ee70"),a=i.n(n);a.a},fc6d:function(t,e,i){"use strict";i.r(e);var n=i("eaa9"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},fd81:function(t,e,i){"use strict";i.r(e);var n=i("bc18"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);