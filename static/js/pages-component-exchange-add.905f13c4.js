(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-component-exchange-add"],{"1b35":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".btnGroup[data-v-542c016c]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item[data-v-542c016c]{margin-bottom:10px;text-align:center}.input[data-v-542c016c]{border-color:#e6e6e6;border-width:1px;border-style:solid;max-width:350px;text-align:left;font-size:14px;height:10px}",""]),e.exports=t},4554:function(e,t,n){var i=n("1b35");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("ba610f10",i,!0,{sourceMap:!1,shadowMode:!1})},"5c8e":function(e,t,n){"use strict";var i=n("4554"),a=n.n(i);a.a},7868:function(e,t,n){"use strict";n.r(t);var i=n("ba8c"),a=n("7ded");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("5c8e");var c,r=n("f0c5"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"542c016c",null,!1,i["a"],c);t["default"]=u.exports},"7ded":function(e,t,n){"use strict";n.r(t);var i=n("cef3"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},ba8c:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uniRow:n("f33c").default,uniCol:n("71df").default,uniCard:n("175b").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("uni-row",{attrs:{gutter:10}},[n("uni-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[n("uni-card",{attrs:{title:"选择协议",mode:"basic","is-shadow":!0,extra:""}},[n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[e._v("协议")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-picker",{attrs:{value:e.marketIndex,range:e.marketList,"range-key":"protocol"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.marketChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.marketList[e.marketIndex]?e.marketList[e.marketIndex].protocol:""))])],1)],1)],1),n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",{staticClass:"uni-list-cell-left"},[e._v("类型")]),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-picker",{attrs:{value:e.typeIndex,range:e.typeList,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.typeChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.typeList[e.typeIndex]?e.typeList[e.typeIndex].name:""))])],1)],1)],1)],1)],1)],1),n("uni-col",{attrs:{xs:24,sm:24,md:16,lg:16,xl:16}},[n("uni-card",{attrs:{title:"配置参数",mode:"basic","is-shadow":!0,extra:""}},[n("uni-row",{staticClass:"item",attrs:{gutter:5}},[n("uni-col",{attrs:{span:5}},[e._v("Access Key")]),n("uni-col",{attrs:{span:18}},[n("v-uni-input",{staticClass:"uni-input input",model:{value:e.access_key,callback:function(t){e.access_key=t},expression:"access_key"}})],1)],1),n("uni-row",{staticClass:"item",attrs:{gutter:5}},[n("uni-col",{attrs:{span:5}},[e._v("Secret Key")]),n("uni-col",{attrs:{span:18}},[n("v-uni-input",{staticClass:"uni-input input",attrs:{password:"true"},model:{value:e.secret_key,callback:function(t){e.secret_key=t},expression:"secret_key"}})],1)],1),n("uni-row",{staticClass:"item",attrs:{gutter:5}},[n("uni-col",{attrs:{span:5}},[e._v("标签")]),n("uni-col",{attrs:{span:18}},[n("v-uni-input",{staticClass:"uni-input input",model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)],1)],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-flex-1 btnGroup"},[n("v-uni-view",{staticStyle:{"margin-right":"20px"}},[n("v-uni-button",{attrs:{"form-type":"submit",type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.add.apply(void 0,arguments)}}},[e._v("添加交易所")])],1),n("v-uni-view",[n("v-uni-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)],1)},s=[]},cef3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{marketList:[],marketIndex:0,typeList:[],typeIndex:0,access_key:"",secret_key:"",name:""}},methods:{marketChange:function(e){this.marketIndex=e.detail.value},typeChange:function(e){this.typeIndex=e.detail.value},cancel:function(){uni.reLaunch({url:"/pages/component/exchange/exchange"})},add:function(){var e=this,t=this.marketList[this.marketIndex];if(0!=this.access_key.length&&0!=this.secret_key.length&&0!=this.name.length){var n={protocol:t.protocol,ptype:t.list[this.typeIndex].id,access_key:this.access_key,secret_key:this.secret_key,name:this.name,user_cookie:uni.getStorageSync("user_cookie")};this.$request.post("/exchange/add",n).then((function(t){"WRONG"!=t&&e.cancel()}))}else uni.showModal({title:"通知",content:"access key和secret key和标签 不能为空",showCancel:!1})},onGetIndexByName:function(e,t,n){for(var i=-1,a=0;a<e.length;a++)if(e[a][n]==t){i=a;break}return i}},onLoad:function(){var e=this;this.$request.get("/exchange/types").then((function(t){if("WRONG"!=t){e.marketList=t.result,e.typeList=e.marketList[e.marketIndex].list;var n=e.$route.query.exchangeName;if(null!=n){var i=uni.getStorageSync("user_cookie");e.$request.get("/exchange/info?user_cookie="+i+"&name="+n).then((function(t){"WRONG"!=t&&(e.marketIndex=e.access_key=t.result.access_key,e.secret_key=t.result.secret_key,e.name=t.result.name,e.marketIndex=e.onGetIndexByName(e.marketList,t.result.protocol,"protocol"),e.marketIndex>=0&&(e.typeIndex=e.onGetIndexByName(e.marketList[e.marketIndex].list,t.result.ptype,"name")))}))}}}))}};t.default=i}}]);